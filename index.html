<!DOCTYPE html>
<html lang="en">
  <head>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@700&family=Cormorant+Garamond:wght@400;500&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

    <meta charset="UTF-8">
    <title>Jairus Character Sheet</title>

    <!-- Include TiddlyWiki core -->
    <script src="https://tiddlywiki.com/empty.html" type="text/javascript"></script>

    <style>
    /* Fantasy parchment background */
    body {
    background: #00ff00;
    font-family: 'Cinzel', serif;
    color: #3e2f1c;
    margin: 0px;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    background-size: cover;       /* Scale to fill screen */
    background-repeat: no-repeat; /* Avoid tiling */
    background-position: center;  /* Center it */

    /* Custom cursor */
    }

    body, button {
    cursor: url('glove3.png') 16 0, auto; /* sword icon */
    }


    body:active, button:active {
    cursor: url('glove2.png') 16 0, auto; /* sword icon */
    }

    /* Character sheet container */
    .tiddler {
    user-select:none;
    background-image: url('parchment.png');
    border: 2px solid rgba(139, 90, 60, 0.8); /* slightly transparent border */
    padding: 12px;
    background-color: rgba(255, 250, 240, 0.1); /* semi-transparent */
    margin-bottom: 15px;
    width: 210px;
    border-radius: 4px;          /* optional: rounded edges for style */
    }

    /* RPG Pressable Buttons */
    button {
    user-select:none;
    background-color: rgba(196, 154, 108, 0.9);
    border: 2px solid rgba(125, 90, 58, 0.9);
    padding: 3px 8px;
    font-family: 'Cinzel', serif;
    margin: 0px;
    font-weight: 1000;
    -webkit-text-stroke: 1px #3e2f1c;

    /* 3D press effect */
    box-shadow: 0 4px 0 rgba(125, 90, 58, 0.9), 0 6px 10px rgba(0,0,0,0.2);
    transition: all 0.1s ease-in-out;
    border-radius: 6px;
    }

    /* Press effect on click */
    button:active {
    transform: translateY(4px);      /* moves the button down */
    box-shadow: 0 0 0 rgba(125, 90, 58, 0.9), 0 2px 5px rgba(0,0,0,0.2);  /* shadow ‚Äúshrinks‚Äù */
    }
    /* Medieval Fantasy Text Style */
    body, h1, h2, p, span {
    font-family: 'Cinzel', serif;
    color: #3e2f1c;
    font-weight: 700; /* thicker letters */
    }

    /* Optional extra ‚Äúhand-drawn wobble‚Äù */
    .tiddler h2, .tiddler p {
    letter-spacing: 0.5px;  /* uneven spacing adds charm */
    line-height: 1.3em;
    }
    
    .header-row {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 6px;
    }

    .header-row h4{
    margin:0;
    }

    /* Make each attribute row a flex container */
    .attribute-row {
    display: flex;
    justify-content: space-between; /* attribute on left, buttons on right */
    align-items: center;
    margin-bottom: 6px;
    }

    /* Headings keep fantasy vibe */
    h1, h2, h3, h4 {
    font-family: 'Cinzel', serif;
    font-weight: 700;
    }

    /* Body text becomes readable */
    body, p, span {
    font-family: 'Cinzel', serif;
    font-weight: 700;
    }

    #cat-container {
    margin-top: 10px;
    display: flex;
    flex-wrap: wrap;
    gap: 4px;

    min-height: 46px;
    }


    /* Cat container */
    #cat-container{
    border: 1px dashed rgba(139, 90, 60, 0.3);
    }

    </style>
  </head>
  <body>

    <div class="tiddler">
      <div class="header-row">
        <h4>
          Ja√Ørus (Lv <span id="level">1</span> Wizard)<br>
          Points: <span id="points">10</span>
        </h4>

        <button id="level-up" onclick="
          playClickSound();
          document.getElementById('level').innerText=parseInt(document.getElementById('level').innerText)+1;
          document.getElementById('points').innerText=parseInt(document.getElementById('points').innerText)+10;
          ">
          +
        </button>


      </div>



      <div class="attribute-row">
        <span class="attr-name">Str: <span id="str">10</span></span>
        <div class="attr-buttons">
          <button onclick="
            playClickSound();
            document.getElementById('str').innerText=parseInt(document.getElementById('str').innerText)+1;
            document.getElementById('points').innerText=parseInt(document.getElementById('points').innerText)+(-1);
            ">+</button>
        </div>
      </div>

      <div class="attribute-row">
        <span class="attr-name">Dex: <span id="dex">12</span></span>
        <div class="attr-buttons">
          <button onclick="
            playClickSound();
            document.getElementById('dex').innerText=parseInt(document.getElementById('dex').innerText)+1;
            document.getElementById('points').innerText=parseInt(document.getElementById('points').innerText)+(-1);
            ">+</button>
        </div>
      </div>

      <div class="attribute-row">
        <span class="attr-name">Int: <span id="int">14</span></span>
        <div class="attr-buttons">
          <button onclick="
            playClickSound();
            document.getElementById('int').innerText=parseInt(document.getElementById('int').innerText)+1;
            document.getElementById('points').innerText=parseInt(document.getElementById('points').innerText)+(-1);
            ">+</button>
        </div>
      </div>

      <div class="attribute-row">
        <span class="attr-name">Height: <span id="height">50</span></span>
        <div class="attr-buttons">
          <button onclick="
            playClickSound();
            document.getElementById('height').innerText=parseInt(document.getElementById('height').innerText)+1;
            document.getElementById('points').innerText=parseInt(document.getElementById('points').innerText)+(-1);
            ">+</button>
        </div>
      </div>

      <div class="attribute-row">
        <span class="attr-name">Beard: <span id="beard">0</span></span>
        <div class="attr-buttons">
          <button onclick="
            playClickSound();
            document.getElementById('beard').innerText=parseInt(document.getElementById('beard').innerText)+1;
            document.getElementById('points').innerText=parseInt(document.getElementById('points').innerText)+(-1);
            ">+</button>
        </div>
      </div>

      <div class="attribute-row">
        <span class="attr-name">Papers: <span id="papers">0</span></span>
        <div class="attr-buttons">
          <button onclick="
            playClickSound();
            document.getElementById('papers').innerText=parseInt(document.getElementById('papers').innerText)+1;
            document.getElementById('points').innerText=parseInt(document.getElementById('points').innerText)+(-1);
            ">+</button>
        </div>
      </div>

      <div class="attribute-row">
        <span class="attr-name">Nobel Prizes: <span id="nobel">0</span></span>
        <div class="attr-buttons">
          <button onclick="
            playClickSound();
            document.getElementById('nobel').innerText=parseInt(document.getElementById('nobel').innerText)+1;
            document.getElementById('points').innerText=parseInt(document.getElementById('points').innerText)+(-1);
            ">+</button>
        </div>
      </div>

      <div class="attribute-row">
        <span class="attr-name">Spouses: <span id="spouses">0</span></span>
        <div class="attr-buttons">
          <button onclick="
            playClickSound();
            document.getElementById('spouses').innerText=parseInt(document.getElementById('spouses').innerText)+1;
            document.getElementById('points').innerText=parseInt(document.getElementById('points').innerText)+(-1);
            medievalConfetti(event);
            ">+</button>
        </div>
      </div>

      <div class="attribute-row">
        <span class="attr-name">Cats: <span id="cats">0</span></span>
        <div class="attr-buttons">
          <button onclick="
            playClickSound();
            let catsEl = document.getElementById('cats');
            let pointsEl = document.getElementById('points');

            let currentCats = parseInt(catsEl.innerText);
            let currentPoints = parseInt(pointsEl.innerText);

            if(currentPoints > 0){
              catsEl.innerText = currentCats + 1;
              pointsEl.innerText = currentPoints - 1;
              updateCats();
            }
            ">+</button>
        </div>
      </div>

      <div id="cat-container"></div>
    </div>

    <audio id="clickSound" src="click.wav" preload="auto"></audio>

  </body>

  <script>
function medievalConfetti(event) {

  const x = event.clientX / window.innerWidth;
  const y = event.clientY / window.innerHeight;

  confetti({
    particleCount: 100,
    spread: 70,
    origin: { x: x, y: y },
    colors: ['#c49a6c', '#8b5a3c', '#f5deb3', '#3e2f1c'],
    gravity: 0.9,
    scalar: 1.1
  });
}
  </script>

  <script>
function medievalConfettiOld() {
  confetti({
    particleCount: 120,
    spread: 70,
    origin: { y: 0.6 },
    colors: ['#c49a6c', '#8b5a3c', '#f5deb3', '#3e2f1c'], // parchment tones
    gravity: 0.8,
    scalar: 1.1
  });
}
  </script>

  <script>
let catColors = [];
let catPictures = [];

function updateCats() {
  const container = document.getElementById('cat-container');
  const catCount = Math.max(0, parseInt(document.getElementById('cats').innerText));

  container.innerHTML = "";

  // If more cats were added ‚Üí generate new colors only for new cats
  while (catColors.length < Math.max(0, catCount - 2)) {
    catColors.push({
      hue: Math.floor(Math.random() * 360),
      saturation: 70 + Math.random() * 60,
      brightness: 80 + Math.random() * 40
    });
  }

  // If cats were removed ‚Üí remove extra colors
  if (catColors.length > catCount - 2) {
    catColors = catColors.slice(0, Math.max(0, catCount - 2));
  }

  for (let i=0; i<catCount; i++){
    const img = document.createElement("img");

    img.style.width = "40px";
    img.style.margin = "3px";

    if (i===0) {
      img.src = "cat_o.png";
    }
    else if (i === 1){
      img.src = "cat_m.png"
    }
    else {
      const color = catColors[i - 2];
      img.src = "cat.png";
      img.style.filter = `
hue-rotate(${color.hue}deg)
saturate(${color.saturation}%)
brightness(${color.brightness}%)
`;
    }

    container.appendChild(img);
  }
}
  </script>

  <script>
function updateCatsRandomColors() {
  const container = document.getElementById('cat-container');
  const catCount = Math.max(0, parseInt(document.getElementById('cats').innerText));

  container.innerHTML = "";

  for (let i = 0; i < catCount; i++) {
    const img = document.createElement("img");
    img.src = "cat.png";
    img.style.width = "40px";
    img.style.margin = "3px";

    // üé® Random color magic
    const hue = Math.floor(Math.random() * 360);
    const saturation = 70 + Math.random() * 60;  // 70‚Äì130%
    const brightness = 80 + Math.random() * 40;  // 80‚Äì120%

    img.style.filter = `
hue-rotate(${hue}deg)
saturate(${saturation}%)
brightness(${brightness}%)
`;

    container.appendChild(img);
  }
}
  </script>

  <script>
function updateCatsOld() {
  const container = document.getElementById('cat-container');
  const catCount = Math.max(0, parseInt(document.getElementById('cats').innerText));

  container.innerHTML = ""; // clear existing cats

  for (let i = 0; i < catCount; i++) {
    const img = document.createElement("img");
    img.src = "cat.png";
    img.style.width = "40px";
    img.style.margin = "2px";
    container.appendChild(img);
  }
}
updateCats();
  </script>

  <script>
function playClickSound() {
  const sound = document.getElementById("clickSound");
  sound.currentTime = 0;  // allows rapid clicking
  sound.play();
}
  </script>


</html>
